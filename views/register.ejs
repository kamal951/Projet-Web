<% include ./partials/header %>
<div class="row">
    <h1 style="text-align: center">Formulaire d'inscription</h1>
    <div style="width: 30%; margin: 25px auto;">
        <form id="myForm" action="/register" method="post">
            <div class="form-group">
                <label class="control-label" for="username">Nom d'utilisateur*</label>
                <input id="req-in" class="form-control" type="text" name="username" placeholder="Nom d'utilisateur" required>
            </div>
            <div class="form-group">
                <label class="control-label" for="password">Mot de passe*</label>
                <input class="form-control" type="password" name="password" placeholder="Mot de passe" required>
            </div>
            <div class="form-group">
                    <label class="control-label" for="confirmPassword">Confirmez votre mot de passe*</label>
                    <input class="form-control" type="password" name="confirmPassword" placeholder="Confirmez votre mot de passe" required>
                </div>
            <div class="form-group">
                <label class="control-label" for="fistName">Prénom*</label>
                <input class="form-control" type="text" name="firstName" placeholder="Prénom" required>
            </div>
            <div class="form-group">
                <label class="control-label" for="lastName">Nom de famille*</label>
                <input class="form-control" type="text" name="lastName" placeholder="Nom de famille" required>
            </div>
            <div class="form-group">
                <label class="control-label">Email</label>
                <input type="text" class="form-control" name="email" placeholder="Email"/>
            </div>
            <div class="form-group">
                <label class="control-label" for="avatar">Url de votre image de profil</label>
                <input class="form-control" type="text" name="avatar" placeholder="Url image de profil">
            </div>
            <div class="form-group">
                <label class="control-label" for="description">Description</label>
                <input class="form-control" type="text" name="description" placeholder="Description">
            </div>
            <div class="form-group">
                <label class="control-label" for="description">Code administrateur</label>
                <p><small>Ce champs est réservé aux administrateurs</small></p>
                <input class="form-control" type="text" name="adminCode" placeholder="Code administrateur">
            </div>
            <br>
            <p style="color:#ffea00"><small>Les champs avec * sont obligatoire</small></p>
            <div class="form-group">
                <button class="btn btn-lg btn-primary btn-block" type="submit">S'inscrire</button>
            </div>
        </form>
        <a href="/annonces">Revenir à l'accueil</a>
    </div>
</div>


<% include ./partials/footer %>

<script>
    $('#myForm').bootstrapValidator({
        fields: {
            username: {
                message: "Ce nom d'utilisateur n'est pas valide",
                validators: {
                    stringLength: {
                        min: 4,
                        max: 30
                    },
                    regexp: {
                        regexp: /^[a-zA-Z0-9]+$/
                    },
                    different: {
                        field: 'password',
                        message: "Le nom d'utilisateur et le mot de passe doivent êtres différents" 
                    }
                }
            },
            email: {
                validators: {
                    notEmpty: {
                        message: 'Veuillez entrer une adresse mail valide'
                    },
                    emailAddress: {
                        message: 'Veuillez entrer une adresse mail valide'
                    }
                }
            },
            confirmPassword: {
                validators: {
                    identical: {
                        field: 'password',
                        message: 'Les mots de passes ne sont pas identiques'
                    }
                }
            }
        }
    });
</script>